//---------------------------------------------------------------------
// This file is automatically generated. All manual edits will be lost.
//---------------------------------------------------------------------
// Real implementation of LibraryInterface for NI-TClk
//---------------------------------------------------------------------
#ifndef NITCLK_GRPC_LIBRARY_H
#define NITCLK_GRPC_LIBRARY_H

#include "nitclk_library_interface.h"

#include <server/shared_library.h>

namespace nitclk_grpc {

class NiTClkLibrary : public nitclk_grpc::NiTClkLibraryInterface {
 public:
  NiTClkLibrary();
  virtual ~NiTClkLibrary();

  ::grpc::Status check_function_exists(std::string functionName);
  ViStatus ConfigureForHomogeneousTriggers(ViUInt32 sessionCount, ViSession sessions[]);
  ViStatus FinishSyncPulseSenderSynchronize(ViUInt32 sessionCount, ViSession sessions[], ViReal64 minTime);
  ViStatus GetAttributeViReal64(ViSession session, ViConstString channelName, ViAttr attributeId, ViReal64* value);
  ViStatus GetAttributeViSession(ViSession session, ViConstString channelName, ViAttr attributeId, ViSession* value);
  ViStatus GetAttributeViString(ViSession session, ViConstString channelName, ViAttr attributeId, ViInt32 bufSize, ViChar value[]);
  ViStatus GetExtendedErrorInfo(ViChar errorString[], ViUInt32 errorStringSize);
  ViStatus Initiate(ViUInt32 sessionCount, ViSession sessions[]);
  ViStatus IsDone(ViUInt32 sessionCount, ViSession sessions[], ViBoolean* done);
  ViStatus SetAttributeViReal64(ViSession session, ViConstString channelName, ViAttr attributeId, ViReal64 value);
  ViStatus SetAttributeViSession(ViSession session, ViConstString channelName, ViAttr attributeId, ViSession value);
  ViStatus SetAttributeViString(ViSession session, ViConstString channelName, ViAttr attributeId, ViConstString value);
  ViStatus SetupForSyncPulseSenderSynchronize(ViUInt32 sessionCount, ViSession sessions[], ViReal64 minTime);
  ViStatus Synchronize(ViUInt32 sessionCount, ViSession sessions[], ViReal64 minTclkPeriod);
  ViStatus SynchronizeToSyncPulseSender(ViUInt32 sessionCount, ViSession sessions[], ViReal64 minTime);
  ViStatus WaitUntilDone(ViUInt32 sessionCount, ViSession sessions[], ViReal64 timeout);

 private:
  using ConfigureForHomogeneousTriggersPtr = ViStatus (*)(ViUInt32 sessionCount, ViSession sessions[]);
  using FinishSyncPulseSenderSynchronizePtr = ViStatus (*)(ViUInt32 sessionCount, ViSession sessions[], ViReal64 minTime);
  using GetAttributeViReal64Ptr = ViStatus (*)(ViSession session, ViConstString channelName, ViAttr attributeId, ViReal64* value);
  using GetAttributeViSessionPtr = ViStatus (*)(ViSession session, ViConstString channelName, ViAttr attributeId, ViSession* value);
  using GetAttributeViStringPtr = ViStatus (*)(ViSession session, ViConstString channelName, ViAttr attributeId, ViInt32 bufSize, ViChar value[]);
  using GetExtendedErrorInfoPtr = ViStatus (*)(ViChar errorString[], ViUInt32 errorStringSize);
  using InitiatePtr = ViStatus (*)(ViUInt32 sessionCount, ViSession sessions[]);
  using IsDonePtr = ViStatus (*)(ViUInt32 sessionCount, ViSession sessions[], ViBoolean* done);
  using SetAttributeViReal64Ptr = ViStatus (*)(ViSession session, ViConstString channelName, ViAttr attributeId, ViReal64 value);
  using SetAttributeViSessionPtr = ViStatus (*)(ViSession session, ViConstString channelName, ViAttr attributeId, ViSession value);
  using SetAttributeViStringPtr = ViStatus (*)(ViSession session, ViConstString channelName, ViAttr attributeId, ViConstString value);
  using SetupForSyncPulseSenderSynchronizePtr = ViStatus (*)(ViUInt32 sessionCount, ViSession sessions[], ViReal64 minTime);
  using SynchronizePtr = ViStatus (*)(ViUInt32 sessionCount, ViSession sessions[], ViReal64 minTclkPeriod);
  using SynchronizeToSyncPulseSenderPtr = ViStatus (*)(ViUInt32 sessionCount, ViSession sessions[], ViReal64 minTime);
  using WaitUntilDonePtr = ViStatus (*)(ViUInt32 sessionCount, ViSession sessions[], ViReal64 timeout);

  typedef struct FunctionPointers {
    ConfigureForHomogeneousTriggersPtr ConfigureForHomogeneousTriggers;
    FinishSyncPulseSenderSynchronizePtr FinishSyncPulseSenderSynchronize;
    GetAttributeViReal64Ptr GetAttributeViReal64;
    GetAttributeViSessionPtr GetAttributeViSession;
    GetAttributeViStringPtr GetAttributeViString;
    GetExtendedErrorInfoPtr GetExtendedErrorInfo;
    InitiatePtr Initiate;
    IsDonePtr IsDone;
    SetAttributeViReal64Ptr SetAttributeViReal64;
    SetAttributeViSessionPtr SetAttributeViSession;
    SetAttributeViStringPtr SetAttributeViString;
    SetupForSyncPulseSenderSynchronizePtr SetupForSyncPulseSenderSynchronize;
    SynchronizePtr Synchronize;
    SynchronizeToSyncPulseSenderPtr SynchronizeToSyncPulseSender;
    WaitUntilDonePtr WaitUntilDone;
  } FunctionLoadStatus;

  nidevice_grpc::SharedLibrary shared_library_;
  FunctionPointers function_pointers_;
};

}  // namespace nitclk_grpc

#endif  // NITCLK_GRPC_LIBRARY_H
