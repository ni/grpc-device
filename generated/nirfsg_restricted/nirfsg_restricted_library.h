//---------------------------------------------------------------------
// This file is automatically generated. All manual edits will be lost.
//---------------------------------------------------------------------
// Real implementation of LibraryInterface for NI-RFSG-RESTRICTED
//---------------------------------------------------------------------
#ifndef NIRFSG_RESTRICTED_GRPC_LIBRARY_H
#define NIRFSG_RESTRICTED_GRPC_LIBRARY_H

#include "nirfsg_restricted_library_interface.h"

#include <server/shared_library_interface.h>

#include <memory>

namespace nirfsg_restricted_grpc {

class NiRFSGRestrictedLibrary : public nirfsg_restricted_grpc::NiRFSGRestrictedLibraryInterface {
 public:
  NiRFSGRestrictedLibrary();
  explicit NiRFSGRestrictedLibrary(std::shared_ptr<nidevice_grpc::SharedLibraryInterface> shared_library);
  virtual ~NiRFSGRestrictedLibrary();

  ::grpc::Status check_function_exists(std::string functionName);
  ViStatus GetError(ViSession vi, ViStatus* errorCode, ViInt32 errorDescriptionBufferSize, ViChar errorDescription[]) override;
  ViStatus ErrorMessage(ViSession vi, ViStatus errorCode, ViChar errorMessage[1024]) override;
  ViStatus CreateDeembeddingSparameterTable(ViSession vi, ViConstString port, ViConstString tableName, ViInt32 numberOfFrequencies, ViInt32 numberOfPorts) override;
  ViStatus ConfigureSparameterTableFrequencies(ViSession vi, ViConstString port, ViConstString tableName, ViReal64 frequencies[], ViInt32 frequenciesSize) override;
  ViStatus ConfigureSparameterTableSparameters(ViSession vi, ViConstString port, ViConstString tableName, NIComplexNumber_struct sparameterTable[], ViInt32 sparameterTableSize, ViInt32 sparameterOrientation) override;

 private:
  using GetErrorPtr = ViStatus (*)(ViSession vi, ViStatus* errorCode, ViInt32 errorDescriptionBufferSize, ViChar errorDescription[]);
  using ErrorMessagePtr = ViStatus (*)(ViSession vi, ViStatus errorCode, ViChar errorMessage[1024]);
  using CreateDeembeddingSparameterTablePtr = ViStatus (*)(ViSession vi, ViConstString port, ViConstString tableName, ViInt32 numberOfFrequencies, ViInt32 numberOfPorts);
  using ConfigureSparameterTableFrequenciesPtr = ViStatus (*)(ViSession vi, ViConstString port, ViConstString tableName, ViReal64 frequencies[], ViInt32 frequenciesSize);
  using ConfigureSparameterTableSparametersPtr = ViStatus (*)(ViSession vi, ViConstString port, ViConstString tableName, NIComplexNumber_struct sparameterTable[], ViInt32 sparameterTableSize, ViInt32 sparameterOrientation);

  typedef struct FunctionPointers {
    GetErrorPtr GetError;
    ErrorMessagePtr ErrorMessage;
    CreateDeembeddingSparameterTablePtr CreateDeembeddingSparameterTable;
    ConfigureSparameterTableFrequenciesPtr ConfigureSparameterTableFrequencies;
    ConfigureSparameterTableSparametersPtr ConfigureSparameterTableSparameters;
  } FunctionLoadStatus;

  std::shared_ptr<nidevice_grpc::SharedLibraryInterface> shared_library_;
  FunctionPointers function_pointers_;
};

}  // namespace nirfsg_restricted_grpc

#endif  // NIRFSG_RESTRICTED_GRPC_LIBRARY_H
