
//---------------------------------------------------------------------
// This file is automatically generated. All manual edits will be lost.
//---------------------------------------------------------------------
// EXPERIMENTAL Client convenience wrapper for NI-FAKE-EXTENSION.
//---------------------------------------------------------------------
#include "nifake_extension_client.h"

#include <grpcpp/grpcpp.h>

#include <nifake_extension.grpc.pb.h>

#include <cstdint>
#include <memory>
#include <stdexcept>
#include <vector>

namespace nifake_extension_grpc::experimental::client {

AddCoolFunctionalityResponse
add_cool_functionality(const StubPtr& stub, const nidevice_grpc::Session& vi, const pb::int32& param)
{
  ::grpc::ClientContext context;

  auto request = AddCoolFunctionalityRequest{};
  request.mutable_vi()->CopyFrom(vi);
  request.set_param(param);

  auto response = AddCoolFunctionalityResponse{};

  raise_if_error(
      stub->AddCoolFunctionality(&context, request, &response),
      context);

  return response;
}

TestAddressParameetersResponse
test_address_parameeters(const StubPtr& stub, const nidevice_grpc::Session& vi, const pb::int32& space, const pb::uint64& offset, const pb::uint64& suggested)
{
  ::grpc::ClientContext context;

  auto request = TestAddressParameetersRequest{};
  request.mutable_vi()->CopyFrom(vi);
  request.set_space(space);
  request.set_offset(offset);
  request.set_suggested(suggested);

  auto response = TestAddressParameetersResponse{};

  raise_if_error(
      stub->TestAddressParameeters(&context, request, &response),
      context);

  return response;
}

TestLargeEnumResponse
test_large_enum(const StubPtr& stub, const nidevice_grpc::Session& vi, const simple_variant<LargeValue, pb::uint32>& mode)
{
  ::grpc::ClientContext context;

  auto request = TestLargeEnumRequest{};
  request.mutable_vi()->CopyFrom(vi);
  const auto mode_ptr = mode.get_if<LargeValue>();
  const auto mode_raw_ptr = mode.get_if<pb::uint32>();
  if (mode_ptr) {
    request.set_mode(*mode_ptr);
  }
  else if (mode_raw_ptr) {
    request.set_mode_raw(*mode_raw_ptr);
  }

  auto response = TestLargeEnumResponse{};

  raise_if_error(
      stub->TestLargeEnum(&context, request, &response),
      context);

  return response;
}


} // namespace nifake_extension_grpc::experimental::client
