
//---------------------------------------------------------------------
// This file is automatically generated. All manual edits will be lost.
//---------------------------------------------------------------------
// Service header for the NI-FAKE-EXTENSION Metadata
//---------------------------------------------------------------------
#ifndef NIFAKE_EXTENSION_GRPC_SERVICE_H
#define NIFAKE_EXTENSION_GRPC_SERVICE_H

#include <nifake_extension.grpc.pb.h>
#include <condition_variable>
#include <grpcpp/grpcpp.h>
#include <grpcpp/health_check_service_interface.h>
#include <grpcpp/ext/proto_server_reflection_plugin.h>
#include <map>
#include <server/session_resource_repository.h>
#include <server/shared_library.h>

#include "nifake_extension_library_interface.h"

namespace nifake_extension_grpc {

class NiFakeExtensionService final : public NiFakeExtension::Service {
public:
  using ResourceRepositorySharedPtr = std::shared_ptr<nidevice_grpc::SessionResourceRepository<ViSession>>;

  NiFakeExtensionService(NiFakeExtensionLibraryInterface* library, ResourceRepositorySharedPtr session_repository);
  virtual ~NiFakeExtensionService();
  
  ::grpc::Status AddCoolFunctionality(::grpc::ServerContext* context, const AddCoolFunctionalityRequest* request, AddCoolFunctionalityResponse* response) override;
private:
  NiFakeExtensionLibraryInterface* library_;
  ResourceRepositorySharedPtr session_repository_;
};

} // namespace nifake_extension_grpc

#endif  // NIFAKE_EXTENSION_GRPC_SERVICE_H
