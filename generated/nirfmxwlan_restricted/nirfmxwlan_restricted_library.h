//---------------------------------------------------------------------
// This file is automatically generated. All manual edits will be lost.
//---------------------------------------------------------------------
// Real implementation of LibraryInterface for NI-RFMXWLAN-RESTRICTED
//---------------------------------------------------------------------
#ifndef NIRFMXWLAN_RESTRICTED_GRPC_LIBRARY_H
#define NIRFMXWLAN_RESTRICTED_GRPC_LIBRARY_H

#include "nirfmxwlan_restricted_library_interface.h"

#include <server/shared_library_interface.h>

#include <memory>

namespace nirfmxwlan_restricted_grpc {

class NiRFmxWLANRestrictedLibrary : public nirfmxwlan_restricted_grpc::NiRFmxWLANRestrictedLibraryInterface {
 public:
  NiRFmxWLANRestrictedLibrary();
  explicit NiRFmxWLANRestrictedLibrary(std::shared_ptr<nidevice_grpc::SharedLibraryInterface> shared_library);
  virtual ~NiRFmxWLANRestrictedLibrary();

  ::grpc::Status check_function_exists(std::string functionName);
  int32 GetChannelList(niRFmxInstrHandle instrumentHandle, char selectorString[], int32 WLANBand, float64 centerFrequencies[], float64 channelBandwidths[], int32 arraySize, int32* actualArraySize) override;
  int32 GetError(niRFmxInstrHandle instrumentHandle, int32* errorCode, int32 errorDescriptionBufferSize, char errorDescription[]) override;
  int32 GetErrorString(niRFmxInstrHandle instrumentHandle, int32 errorCode, int32 errorDescriptionBufferSize, char errorDescription[]) override;
  int32 OFDMModAccFetchCommonPilotErrorTraceIndB(niRFmxInstrHandle instrumentHandle, char selectorString[], float64 timeout, float64* x0, float64* dx, float32 commonPilotErrorMagnitude[], float32 commonPilotErrorPhase[], int32 arraySize, int32* actualArraySize) override;
  int32 OFDMModAccLoad1ReferenceWaveformFromTDMSFile(niRFmxInstrHandle instrumentHandle, char selectorString[], char waveformFilePath[], int32 waveformIndex) override;
  int32 OFDMModAccNoiseCalibrate(niRFmxInstrHandle instrumentHandle, char selectorString[], int32 sharedLOConnection) override;

 private:
  using GetChannelListPtr = int32 (*)(niRFmxInstrHandle instrumentHandle, char selectorString[], int32 WLANBand, float64 centerFrequencies[], float64 channelBandwidths[], int32 arraySize, int32* actualArraySize);
  using GetErrorPtr = int32 (*)(niRFmxInstrHandle instrumentHandle, int32* errorCode, int32 errorDescriptionBufferSize, char errorDescription[]);
  using GetErrorStringPtr = int32 (*)(niRFmxInstrHandle instrumentHandle, int32 errorCode, int32 errorDescriptionBufferSize, char errorDescription[]);
  using OFDMModAccFetchCommonPilotErrorTraceIndBPtr = int32 (*)(niRFmxInstrHandle instrumentHandle, char selectorString[], float64 timeout, float64* x0, float64* dx, float32 commonPilotErrorMagnitude[], float32 commonPilotErrorPhase[], int32 arraySize, int32* actualArraySize);
  using OFDMModAccLoad1ReferenceWaveformFromTDMSFilePtr = int32 (*)(niRFmxInstrHandle instrumentHandle, char selectorString[], char waveformFilePath[], int32 waveformIndex);
  using OFDMModAccNoiseCalibratePtr = int32 (*)(niRFmxInstrHandle instrumentHandle, char selectorString[], int32 sharedLOConnection);

  typedef struct FunctionPointers {
    GetChannelListPtr GetChannelList;
    GetErrorPtr GetError;
    GetErrorStringPtr GetErrorString;
    OFDMModAccFetchCommonPilotErrorTraceIndBPtr OFDMModAccFetchCommonPilotErrorTraceIndB;
    OFDMModAccLoad1ReferenceWaveformFromTDMSFilePtr OFDMModAccLoad1ReferenceWaveformFromTDMSFile;
    OFDMModAccNoiseCalibratePtr OFDMModAccNoiseCalibrate;
  } FunctionLoadStatus;

  std::shared_ptr<nidevice_grpc::SharedLibraryInterface> shared_library_;
  FunctionPointers function_pointers_;
};

}  // namespace nirfmxwlan_restricted_grpc

#endif  // NIRFMXWLAN_RESTRICTED_GRPC_LIBRARY_H
